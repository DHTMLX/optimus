{"code":"import { __extends } from \"tslib\";\r\nimport { View } from \"./View\";\r\nvar App = /** @class */ (function (_super) {\r\n    __extends(App, _super);\r\n    function App(app, state) {\r\n        var _this = _super.call(this, app, state) || this;\r\n        _this.app = _this;\r\n        _this.events = new dhx.EventSystem();\r\n        return _this;\r\n    }\r\n    App.prototype.render = function (target) {\r\n        if (!target) {\r\n            target = document.body;\r\n        }\r\n        this.root = new dhx.Layout(target, {\r\n            rows: [{\r\n                    id: \"content\",\r\n                }]\r\n        });\r\n        this.init();\r\n    };\r\n    App.prototype.routes = function () {\r\n        return [];\r\n    };\r\n    App.prototype.setRouter = function (router) {\r\n        var _this = this;\r\n        this.router = router;\r\n        var routes = this.routes();\r\n        routes.forEach(function (r) {\r\n            var cb;\r\n            if (r.redirect) {\r\n                cb = function () { return router.navigate(r.redirect); };\r\n            }\r\n            else {\r\n                cb = function (url) {\r\n                    var params = {};\r\n                    if (r.params) {\r\n                        Object.assign(params, r.params);\r\n                    }\r\n                    if (url && typeof url === \"object\") {\r\n                        Object.assign(params, url);\r\n                    }\r\n                    _this.show(\"\", r.view, params);\r\n                };\r\n            }\r\n            if (r.path === \":not-found:\") {\r\n                router.notFound(cb);\r\n            }\r\n            else {\r\n                router.on(r.path, cb);\r\n            }\r\n        });\r\n        router.resolve();\r\n    };\r\n    return App;\r\n}(View));\r\nexport { App };\r\n//# sourceMappingURL=App.js.map","map":"{\"version\":3,\"file\":\"App.js\",\"sourceRoot\":\"\",\"sources\":[\"../../sources/App.ts\"],\"names\":[],\"mappings\":\";AACA,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;AAI9B;IAAyB,uBAAI;IAI5B,aAAY,GAAS,EAAE,KAAc;QAArC,YACC,kBAAM,GAAG,EAAE,KAAK,CAAC,SAIjB;QAFA,KAAI,CAAC,GAAG,GAAG,KAAI,CAAC;QAChB,KAAI,CAAC,MAAM,GAAG,IAAI,GAAG,CAAC,WAAW,EAAE,CAAC;;IACrC,CAAC;IACD,oBAAM,GAAN,UAAO,MAAmB;QACzB,IAAI,CAAC,MAAM,EAAE;YACZ,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC;SACvB;QAED,IAAI,CAAC,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE;YAClC,IAAI,EAAE,CAAC;oBACN,EAAE,EAAE,SAAS;iBACb,CAAC;SACF,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,EAAE,CAAC;IACb,CAAC;IACD,oBAAM,GAAN;QACC,OAAO,EAAE,CAAC;IACX,CAAC;IACD,uBAAS,GAAT,UAAU,MAAM;QAAhB,iBA+BC;QA9BA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QAErB,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;QAC7B,MAAM,CAAC,OAAO,CAAC,UAAA,CAAC;YACf,IAAI,EAAE,CAAC;YACP,IAAI,CAAC,CAAC,QAAQ,EAAC;gBACd,EAAE,GAAG,cAAM,OAAA,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,EAA3B,CAA2B,CAAC;aACvC;iBAAM;gBACN,EAAE,GAAG,UAAA,GAAG;oBACP,IAAM,MAAM,GAAG,EAAE,CAAC;oBAElB,IAAI,CAAC,CAAC,MAAM,EAAC;wBACZ,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;qBAChC;oBACD,IAAI,GAAG,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAC;wBAClC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;qBAC3B;oBAED,KAAI,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;gBAC/B,CAAC,CAAC;aACF;YAED,IAAI,CAAC,CAAC,IAAI,KAAK,aAAa,EAAC;gBAC5B,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;aACnB;iBAAM;gBACN,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;aACtB;QACF,CAAC,CAAC,CAAA;QAEF,MAAM,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IACF,UAAC;AAAD,CAAC,AA1DD,CAAyB,IAAI,GA0D5B\"}"}
